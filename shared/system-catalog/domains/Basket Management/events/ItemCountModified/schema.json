{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "type": "object",
  "properties": {
    "type": {
      "type": "string",
      "enum": [
          "agency",
          "listing",
          "proertySearch",
          "seller"
      ]
    },
    "date": {
      "type": "string",
      "format": "date-time",
      "description": "The DateTime with offset or UTC date time"
    },
    "publicationType": {
      "type": "string",
      "enum": [ 
          "seloger",
          "selogerconstruire",
          "selogerneuf",
          "selogerbureaux&commerces",
          "bellesdemeures",
          "logicimmo",
          "logicimmoneuf",
          "luxresidence"
      ]
    },
    "partners": {
      "type": "array",
      "items": [
        {
          "type": "object",
          "properties": {
            "partnerId": {
              "type": "string",
              "format":"regex",
              "pattern": "^RC-[0-9]{11}$"
            },
            "email": {
              "type": "string",
              "format": "email"
            },
            "isFree": {
              "type": "boolean",
              "default": false
            },
            "targeting": {
              "type": "array",
              "items": [
                {
                  "type": "string"
                }
              ]
            }
          },
          "required": [
            "partnerId",
            "email",
            "isFree",
            "targeting"
          ]
        }
      ]
    },
    "contactRequest": {
      "type": "object",
      "properties": {
        "personContact": {
          "type": "object",
          "properties": {
            "email": {
              "type": "string",
              "format": "email"
            },
            "name": {
              "type": "string"
            },
            "phone": {
              "type": "string"
            },
            "salutation": {
              "type": "string",
              "enum": [ 
                "Mr",
                "Mrs"
              ]
            },
            "adresse": {
              "type": "object",
              "properties": {
                "postalCode": {
                  "type": "string"
                },
                "city": {
                  "type": "string"
                },
                "street": {
                  "type": "string"
                },
                "houseNumber": {
                  "type": "string"
                },
                "country": {
                  "type": "string"
                }
              },
              "required": [
                "postalCode",
                "city",
                "country"
              ]
            }
          },
          "required": [
            "email",
            "name",
            "phone",
            "salutation"
          ]
        },
        "message": {
          "type": "string"
        },
        "personnalStatus": {
          "type": "object",
          "properties": {
            "employmentStatus": {
              "type": "string"
            },
            "childrenAtHome": {
              "type": "integer"
            },
            "dateOfBirth": {
              "type": "string"
            },
            "maritalStatus": {
              "type": "string"
            },
            "houseHoldSize": {
              "type": "integer"
            }
          }
        },
        "borrowingCapacities": {
          "type": "object",
          "properties": {
            "income": {
              "type": "object",
              "properties": {
                "grossIncome": {
                  "type": "object",
                  "properties": {
                    "annualGrossIncome": {
                      "type": "integer"
                    },
                    "monthlyGrossIncome": {
                      "type": "integer"
                    },
                    "annualGrossHouseHoldIncome": {
                      "type": "integer"
                    },
                    "monthlyGrossHouseHoldIncome": {
                      "type": "integer"
                    },
                    "annualGrossCorporateIncome": {
                      "type": "integer"
                    }
                  },
                  "required": [
                    "annualGrossIncome",
                    "monthlyGrossIncome",
                    "annualGrossHouseHoldIncome",
                    "monthlyGrossHouseHoldIncome",
                    "annualGrossCorporateIncome"
                  ]
                },
                "netIncome": {
                  "type": "object",
                  "properties": {
                    "annualNetIncome": {
                      "type": "integer"
                    },
                    "monthlyNetIncome": {
                      "type": "integer"
                    },
                    "annualNetHouseHoldIncome": {
                      "type": "integer"
                    },
                    "monthlyNetHouseHoldIncome": {
                      "type": "integer"
                    },
                    "annualNetCorporateIncome": {
                      "type": "integer"
                    }
                  },
                  "required": [
                    "annualNetIncome",
                    "monthlyNetIncome",
                    "annualNetHouseHoldIncome",
                    "monthlyNetHouseHoldIncome",
                    "annualNetCorporateIncome"
                  ]
                },
                "taxableIncome": {
                  "type": "object",
                  "properties": {
                    "annualTaxableIncome": {
                      "type": "integer"
                    },
                    "monthlyTaxableIncome": {
                      "type": "integer"
                    },
                    "annualTaxableHouseHoldIncome": {
                      "type": "integer"
                    },
                    "monthlyTaxableHouseHoldIncome": {
                      "type": "integer"
                    },
                    "annualTaxableCorporateIncome": {
                      "type": "integer"
                    }
                  },
                  "required": [
                    "annualTaxableIncome",
                    "monthlyTaxableIncome",
                    "annualTaxableHouseHoldIncome",
                    "monthlyTaxableHouseHoldIncome",
                    "annualTaxableCorporateIncome"
                  ]
                },
                "taxes": {
                  "type": "object",
                  "properties": {
                    "annualTax": {
                      "type": "integer"
                    },
                    "monthlyTax": {
                      "type": "integer"
                    },
                    "annualHouseHoldTax": {
                      "type": "integer"
                    },
                    "monthlyHouseHoldTax": {
                      "type": "integer"
                    },
                    "annualCorporateTax": {
                      "type": "integer"
                    }
                  },
                  "required": [
                    "annualTax",
                    "monthlyTax",
                    "annualHouseHoldTax",
                    "monthlyHouseHoldTax",
                    "annualCorporateTax"
                  ]
                }
              },
              "required": [
                "grossIncome",
                "netIncome",
                "taxableIncome",
                "taxes"
              ]
            },
            "passiveIncome": {
              "type": "object",
              "properties": {
                "annualpassiveIncome": {
                  "type": "integer"
                },
                "monthlypassiveIncome": {
                  "type": "integer"
                },
                "annualpassiveHouseHoldIncome": {
                  "type": "integer"
                },
                "monthlypassiveHouseHoldIncome": {
                  "type": "integer"
                },
                "annualpassiveCorporateIncome": {
                  "type": "integer"
                },
                "monthlypassiveCorporateIncome": {
                  "type": "integer"
                }
              },
              "required": [
                "annualpassiveIncome",
                "monthlypassiveIncome",
                "annualpassiveHouseHoldIncome",
                "monthlypassiveHouseHoldIncome",
                "annualpassiveCorporateIncome",
                "monthlypassiveCorporateIncome"
              ]
            },
            "savings": {
              "type": "object",
              "properties": {
                "savingCapacity": {
                  "type": "integer"
                }
              },
              "required": [
                "savingCapacity"
              ]
            }
          },
          "required": [
            "income",
            "passiveIncome",
            "savings"
          ]
        }
      },
      "required": [
        "personContact",
        "message"
      ]
    },
    "property": {
      "type": "object",
      "properties": {
        "estateType": {
          "type": "array",
          "items": [
            {
              "type": "string"
            }
          ]
        },
        "structure": {
          "type": "object",
          "properties": {
            "rooms": {
              "type": "object",
              "properties": {
                "numberOfRooms": {
                  "type": "integer"
                },
                "numberOfRoomsMin": {
                  "type": "integer"
                },
                "numberOfRoomsMax": {
                  "type": "integer"
                }
              },
              "required": [
                "numberOfRooms",
                "numberOfRoomsMin",
                "numberOfRoomsMax"
              ]
            }
          },
          "required": [
            "rooms"
          ]
        },
        "distributionType": {
          "type": "array",
          "items": [
            {
              "type": "string"
            }
          ]
        },
        "spaces": {
          "type": "object",
          "properties": {
            "residential": {
              "type": "object",
              "properties": {
                "livingSpace": {
                  "type": "integer"
                }
              },
              "required": [
                "livingSpace"
              ]
            },
            "commercial": {
              "type": "object",
              "properties": {
                "commercialSpace": {
                  "type": "integer"
                }
              },
              "required": [
                "commercialSpace"
              ]
            },
            "overalSpaces": {
              "type": "integer"
            },
            "spaceMin": {
              "type": "integer"
            },
            "spaceMax": {
              "type": "integer"
            },
            "spaceMeasureUnit": {
              "type": "string"
            }
          },
          "required": [
            "residential",
            "commercial",
            "overalSpaces",
            "spaceMin",
            "spaceMax",
            "spaceMeasureUnit"
          ]
        },
        "additionnalMessage": {
          "type": "string"
        },
        "budget": {
          "type": "object",
          "properties": {
            "amount": {
              "type": "integer"
            },
            "amountMin": {
              "type": "integer"
            },
            "amountMax": {
              "type": "integer"
            }
          },
          "required": [
            "amount",
            "amountMin",
            "amountMax"
          ]
        },
        "geo": {
          "type": "object",
          "properties": {
            "city": {
              "type": "string"
            },
            "country": {
              "type": "string"
            },
            "postalCodes": {
              "type": "array",
              "items": [
                {
                  "type": "string"
                }
              ]
            },
            "departments": {
              "type": "array",
              "items": [
                {
                  "type": "string"
                }
              ]
            }
          },
          "required": [
            "city",
            "country",
            "postalCodes",
            "departments"
          ]
        }
      },
      "required": [
        "estateType",
        "structure",
        "distributionType",
        "spaces",
        "additionnalMessage",
        "budget",
        "geo"
      ]
    },
    "project": {
      "type": "object",
      "properties": {
        "projectIntention": {
          "type": "string"
        },
        "commercial": {
          "type": "object",
          "properties": {
            "usageType": {
              "type": "object",
              "properties": {
                "leaseBack": {
                  "type": "boolean"
                }
              },
              "required": [
                "leaseBack"
              ]
            },
            "business": {
              "type": "object",
              "properties": {
                "isBusinessSold": {
                  "type": "boolean"
                },
                "businessType": {
                  "type": "string"
                },
                "activity": {
                  "type": "string"
                },
                "numberOfStaff": {
                  "type": "string"
                },
                "societyName": {
                  "type": "string"
                },
                "relocationDate": {
                  "type": "integer"
                }
              },
              "required": [
                "isBusinessSold",
                "businessType",
                "activity",
                "numberOfStaff",
                "societyName",
                "relocationDate"
              ]
            }
          },
          "required": [
            "usageType",
            "business"
          ]
        },
        "investment": {
          "type": "object",
          "properties": {
            "investmentReason": {
              "type": "string"
            },
            "investmentType": {
              "type": "string"
            },
            "servicesNeeded": {
              "type": "string"
            }
          },
          "required": [
            "investmentReason",
            "investmentType",
            "servicesNeeded"
          ]
        },
        "build": {
          "type": "object",
          "properties": {
            "plotStatus": {
              "type": "string"
            }
          },
          "required": [
            "plotStatus"
          ]
        }
      },
      "required": [
        "projectIntention",
        "commercial",
        "investment",
        "build"
      ]
    }
  },
  "required": [
    "type",
    "date",
    "publicationType",
    "partners",
    "contactRequest",
    "property",
    "project"
  ]
}